<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>nuevos tipos de datos en javascript</h1>

    <script>
        /* **********     Curso JavaScript: 49. Symbols - #jonmircha     ********** */
     
     
        let id = Symbol("id");
    let id2 = Symbol("id2");

    console.log(id === id2)    
    console.log(id, id2);
    console.log(typeof id, typeof id2);
      /*con symbol se puede pasar una descripcion a la variabre y luego el valor*/
    const NOMBRE = Symbol("nombre");
    const SALUDAR = Symbol("saludar");

    const persona = {
      [NOMBRE]: "Jon",
      edad: 35
    };

    console.log(persona);
    
    persona.NOMBRE = "Jonathan MirCha"
    console.log(persona);
    console.log(persona.NOMBRE);
    console.log(persona[NOMBRE]);
    persona[SALUDAR] = function () {
      console.log(`Hola`);
    }
    console.log(persona);
    persona[SALUDAR]();
    for (let propiedad in persona) {
      console.log(propiedad);
      console.log(persona[propiedad]);
    }
    console.log(Object.getOwnPropertySymbols(persona)); 


 /* console.log(`prueba de numero a sctring`)

  const numero = 50+"";

  console.log(numero);
  console.log(typeof numero);

  const values=[1,2,3,4,5];
  const valuesObject ={...values};

  console.log(valuesObject);
     */   


     /* **********     Curso JavaScript: 50. Sets - #jonmircha     ********** */
//set es parecido a un array pero este no permite valores repetidos en susu pociciones ademas la sintaxis en los methodos son diferentes  
     const set = new Set([1,2,3,4,5,true,false,false,{},{},"hola","HOLa"]);

    console.log(set);

    console.log(set.size); //tamaño de variable

    const set2=new Set();

    set2.add(1);
    set2.add(2);
    set2.add(2);
    set2.add(3);
    set2.add(true);
    set2.add(false);
    set2.add(true);
    set2.add({});


    console.log(set2);
    console.log(set2.size);

    console.log('recorriendo set');

    for (let item of set) {
      console.log(item);
      
    }
    console.log('recorriendo set2');
   set2.forEach(item=>console.log(item));

   let array= Array.from(set);

   console.log(array);
   console.log(array[0]);
   console.log(array[9]);

   set.delete("HOLa");

   console.log(set);

   console.log(set.has('hola'));
   console.log(set.has(19));

   set2.clear();

   console.log(set2);


   /* ********** Curso JavaScript: 51. Mapas - #jonmircha ********** */
  //map es para crear objetos con multiples valores es un tipo de dato especial poco comun

   let mapa= new Map();

   mapa.set("nombre","junior");
   mapa.set("apellido","galvan");
   mapa.set("edad",28);
  
   console.log(mapa);

   console.log(mapa.size);

   console.log(mapa.has("correo"));
   console.log(mapa.has("nombre"));
   console.log(mapa.get("nombre"));

   mapa.set("nombre","junior galvan");

   console.log(mapa.get("nombre"));

   mapa.delete("apellido");

   console.log(mapa);
//recorrer una varible de tipo Map()
   for (let[key,value] of mapa) {
        console.log(`Llave: ${key}  Valor: ${value}`);     
   }

   mapa.set(19,"diecinueve");
   mapa.set(false,"false");
   mapa.set({},{});

   console.log(mapa);

   for (let [key,value] of mapa) {
     console.log(`Llave: ${key} Valor: ${value}`);
          
   }

   const mapa2= new Map([
     ["nombre","kenay"],
     ["edad",7],
     ["animal","perro"],
     [null,"nulo"]
   ]);

   console.log(mapa2);

   const llaveMapa2=[...mapa2.keys()];
   const valoresMapa2=[...mapa2.values()];

   console.log(llaveMapa2);
   console.log(valoresMapa2);

/* **********     Curso JavaScript: 52. WeakSets & WeakMaps - #jonmircha     ********** */
/*
console.log('WeakSets & WeakMaps');
//marera errada este no recibe valores en su instancia
//const ws= new WeakSet([1, 2, 3, 3, 4, 5, true, false, false, {}, {}, "hola", "HOla"]);

const ws=new WeakSet();

let valor1={"valor1": 1};
let valor2={"valor2": 2};
let valor3={"valor3": 3};

ws.add(valor1);
ws.add(valor2);

console.log(ws);


console.log(ws.has(valor1));
console.log(ws.has(valor3));


ws.delete(valor2);

console.log(ws);

//en este caso los agraga como si fuera desde el inicio 
ws.add(valor2);
ws.add(valor3);

console.log(ws);

setInterval (() => console.log (ws), 1000);
    setTimeout (() => {
      valor1 = nulo;
      valor2 = nulo;
      valor3 = nulo;
    }, 5000); 



    /* const wm = new WeakMap ([
      ["nombre", "kEnAi"],
      ["edad", 7],
      ["animal", "perro"],
      [nulo, "nulo"]
    ]); */
  /*  const wm = new WeakMap ();
    let llave1 = {};
    let llave2 = {};
    let llave3 = {};

    wm.set (llave1, 1);
    wm.set (llave2, 2);

    console.log (wm);

    console.log (wm.has (llave1));
    console.log (wm.has (llave3));

    console.log (wm.get (llave1));
    console.log (wm.get (llave2));
    console.log (wm.get (llave3));

    wm.delete (llave2);
    console.log (wm);

    wm.set (llave2, 2)
    wm.set (llave3, 3)
    console.log (wm);

    setInterval(() => console.log(wm), 1000);
    setTimeout(() => {
      llave1 = null;
      llave2 = null;
      llave3 = null;
    }, 5000);
*/
  /* **********     Curso JavaScript: 53. Iterables & Iterators - #jonmircha     ********** */
   /*  const iterable = [1, 2, 3, 4, 5];
    //const iterable = "Hola Mundo";
    //const iterable = new Set([1, 2, 3, 3, 4, 5]);
    //const iterable = new Map([["nombre", "jon"], ["edad", 35]]);
    //Accedemos al iterador del iterable
    const iterador = iterable[Symbol.iterator]();
    console.log(iterable);
    console.log(iterador);
    //console.log(iterador.next());
    //console.log(iterador.next());
    //console.log(iterador.next());
    //console.log(iterador.next());
    //console.log(iterador.next());
    //console.log(iterador.next());
    let next = iterador.next();
    while (!next.done) {
      console.log(next.value);
      next = iterador.next();
    } */
  /* **********     Curso JavaScript: 54. Generators - #jonmircha     ********** */

  function* iterable(){
    yield "hola";
    console.log('hola consola');

    yield"hola2";
    console.log('seguimos con mas iteraciones');
    yield"hola3";
    yield"hola4";
    
   }
   let iterator =iterable();
//imprime uno por uno de la funcion iterable mediante el metodo next();
  /*  console.log(iterator.next());
    console.log(iterator.next());
    console.log(iterator.next());
    console.log(iterator.next());
    console.log(iterator.next());*/

    //imprimir de manera automatica todos los valores
console.log('con for of ')
    for (let y of iterator) {
      console.log(y);      
    }

    //para guardar los valores de la funcion en un array 
    const Arr=[...iterable()];
    console.log(Arr);


//ejemplo 
/*
function cuadrado (value){
setTimeout(()=>{
  return console.log({value,result:value*value});
},Math.random()*1000);
}

function* generador(){
  console.log('inicia gerador');
  yield cuadrado(0);
  yield cuadrado(1);
  yield cuadrado(2);
  yield cuadrado(3);
  yield cuadrado(4);
  console.log('temina genarador');
}
let gen=generador();
//imprime de manera automatica todos los yield

for (let y of gen) {
  console.log(y);  
}*/
 /* **********     Curso JavaScript: 55. Proxies - #jonmircha     ********** */
/*este funciona como si fuera una clase es de sir que toma como referencia o plantilla un objecto para trabajar sobre una copia la 
  cual su funcion es permitir validar para asi permitir crear otro objeto o agragar valores a un objeto ya instanciado sin nesecidad de methodos en clases
*/

const usuario={
  nombre:"",
  apellido:"",
  edad:0
};

const manejador ={
  set(obj,propiedad,value){
   
    if(Object.keys(obj).indexOf(propiedad)===-1){
      return console.error(`la propiedadiedad "${propiedad}"no se en cuentra dentro del objeto raiz usuario`)
    }
    if(
      (propiedad==="nombre"|| propiedad==="apellido")&&!(/^[A-Za-zÑñÁáÉéÍíÓóÚúÜü\s]+$/g.test(value))
    ){
      return console.error(`la propiedad "${propiedad} solo acepta letras y espacios en blanco"`);
    }

    obj[propiedad]=value;

  }
};

const jon = new Proxy(usuario,manejador);

jon.nombre="junior hernando ";
jon.apellido="mircha";
jon.edad=30;
jon.twitter="@twitter";
console.log(jon);
console.log(usuario);


    </script>

</body>
</html>